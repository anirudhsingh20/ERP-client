<div class="container">
    <form *ngIf="fields.length > 0 && departments.length > 0" [formGroup]='departmentForm' class="border border-warning px-5 py-4 mt-md-5 rounded" (submit)="onSubmit()">
        <div class="form-row">
            <div class="form-group col-8">
                <label for="selectInput">Field</label>
                <select formControlName="field" class="form-control form-control">
                  <option selected>Choose Field...</option>
                  <option *ngFor="let field of fields" [value]="field._id">
                      {{field.name}}
                  </option>
                </select>
                
              </div>
              <div class="form-group col-8">
                <label for="selectInput">Branch</label>
                <select formControlName="name" class="form-control form-control">
                  <option selected>Choose Branch...</option>
                  <option *ngFor="let department of departments" [value]="department._id">
                      {{department.name}}
                  </option>
                </select>
                
              </div>

            <div class="form-group col-md-6">
              <label for="inputEmail">Semester</label>
              <input formControlName="semester" type="number" class="form-control" id="inputEmail" placeholder="Enter semester 1,2,3...">
            </div>




        </div>

        <div class="form-row" formArrayName="subjects">
            <label class="form-group col-md-12"><h3>Subjects</h3></label>
            <div class="form-group col-md-6" *ngFor="let subject of subjects.controls; let i=index">
                    <label for="inputEmail">Subject {{ i+1}}</label>
                    <input [formControlName]="i" type="text" class="form-control" id="inputEmail" placeholder="Enter semester 1,2,3...">
            </div>
            <div class="form-group col-md-12">
                <button class="btn btn-sm btn-outline-primary" (click)="addSubject()">Add More Subject</button>
            </div>

        </div>
        
        <div class="text-center">
            <button type="submit" class="btn btn-primary">add department</button>

        </div>

    </form>
</div>




